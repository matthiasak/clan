{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 9d76ec022b50dcbfb133","/home/matthiasak/Code/clan/node_modules/process/browser.js","/home/matthiasak/Code/clan/src/batch.js","/home/matthiasak/Code/clan/src/fp.js","/home/matthiasak/Code/clan/src/hamt.js","/home/matthiasak/Code/clan/src/mixin.js","/home/matthiasak/Code/clan/src/model.js","/home/matthiasak/Code/clan/src/observable.js","/home/matthiasak/Code/clan/src/vdom.js"],"names":["batch","f","inflight","url","options","method","key","JSON","stringify","toLowerCase","compress","Promise","res","rej","then","d","catch","e","data","undefined","console","error","log","a","rAF","document","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","process","nextTick","cb","setTimeout","c","g","x","cof","fns","reduce","acc","fn","cob","reverse","pf","args","apply","curry","bind","mapping","mapper","reducer","result","value","filtering","predicate","concatter","thing","concat","hamming","popcount","root","children","sum","i","hash","v","length","charCodeAt","comp","b","HMAP_SIZE","MAX_DEPTH","vec","h","range","shallowClone","y","Object","create","cloneNode","node","val","numChildren","set","newroot","r","n","bits","cp","cn","rh","j","__r","__n","vecr","vecn","_r","get","first","unset","_n","p","item","map","filter","toList","push","toOrderedList","toJSON","toJson","pop","shift","k","unshift","hamt","mixin","classes","_mixin","proto","prototype","getOwnPropertyNames","oldFn","model","is","type","isValid","Function","String","Number","Boolean","check","types","required","keys","forEach","t","Array","_type","MODEL","init","logic","pipe","whenValid","ArrayOf","M","obs","state","subscribers","Set","o","add","take","values","delete","takeWhile","maybe","success","stop","clear","debounce","ms","ts","Date","now","from","union","fs","vdom","class_id_regex","tagName_regex","parseSelector","s","test","tagreg","exec","tag","slice","reg","substr","className","trim","id","func","wait","immediate","timeout","later","callNow","clearTimeout","_v","len","m","selector","attrs","shouldUpdate","unload","config","__hash","stripEvents","name","applyEvents","events","el","strip_existing","removeEvents","flatten","arr","EVENTS","split","mnt","mount","render","_","applyUpdates","update","stylify","style","setAttrs","attr","innerHTML","setAttribute","_id","_className","createTag","parent","parentElement","__vdom","createTextNode","insertBefore","removeEl","appendChild","shouldExchange","tagName","_shouldUpdate","createElement","removeChild","insertAt","next_sib","resolve","_el","vdom_children","el_children","childNodes","qs","querySelector","resolver","states","promises","done","_await","_promises","finish","isDone","total","all","props","getState","gs","view","instance","container","queries","wrapper_view","reservedAttrs","toHTML","_vdom","html","_class","_attrs","inner","indexOf","str","join"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;AACA;AACA;AACA;AACA,mEAA2D;AAC3D;AACA;AACA,WAAG;;AAEH,oDAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA,cAAM;AACN;AACA;AACA,cAAM;AACN;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;;;AAIA;AACA,sDAA8C;AAC9C;AACA,mCAA2B;AAC3B,qCAA6B;AAC7B,yCAAiC;;AAEjC,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA,aAAK;AACL,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAc,4BAA4B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAe,uCAAuC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAe,uCAAuC;AACtD;AACA;AACA;AACA;AACA;AACA,uBAAe,sBAAsB;AACrC;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAa,wCAAwC;AACrD;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,eAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA,gBAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,8CAAsC,uBAAuB;;AAE7D;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/rBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;A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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"clan\"] = factory();\n\telse\n\t\troot[\"clan\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = this[\"webpackHotUpdateclan\"];\n \tthis[\"webpackHotUpdateclan\"] = \r\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\thotAddUpdateChunk(chunkId, moreModules);\r\n \t\tif(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\r\n \t} ;\r\n \t\r\n \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n \t\tvar script = document.createElement(\"script\");\r\n \t\tscript.type = \"text/javascript\";\r\n \t\tscript.charset = \"utf-8\";\r\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\r\n \t\thead.appendChild(script);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest() { // eslint-disable-line no-unused-vars\r\n \t\treturn new Promise(function(resolve, reject) {\r\n \t\t\tif(typeof XMLHttpRequest === \"undefined\")\r\n \t\t\t\treturn reject(new Error(\"No browser support\"));\r\n \t\t\ttry {\r\n \t\t\t\tvar request = new XMLHttpRequest();\r\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\r\n \t\t\t\trequest.open(\"GET\", requestPath, true);\r\n \t\t\t\trequest.timeout = 10000;\r\n \t\t\t\trequest.send(null);\r\n \t\t\t} catch(err) {\r\n \t\t\t\treturn reject(err);\r\n \t\t\t}\r\n \t\t\trequest.onreadystatechange = function() {\r\n \t\t\t\tif(request.readyState !== 4) return;\r\n \t\t\t\tif(request.status === 0) {\r\n \t\t\t\t\t// timeout\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" timed out.\"));\r\n \t\t\t\t} else if(request.status === 404) {\r\n \t\t\t\t\t// no update available\r\n \t\t\t\t\tresolve();\r\n \t\t\t\t} else if(request.status !== 200 && request.status !== 304) {\r\n \t\t\t\t\t// other failure\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\r\n \t\t\t\t} else {\r\n \t\t\t\t\t// success\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\r\n \t\t\t\t\t} catch(e) {\r\n \t\t\t\t\t\treject(e);\r\n \t\t\t\t\t\treturn;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tresolve(update);\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t});\r\n \t}\r\n\n \t\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"9d76ec022b50dcbfb133\"; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotMainModule = true; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t} else hotCurrentParents = [moduleId];\r\n \t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\tme.children.push(request);\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\thotMainModule = false;\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tvar ObjectFactory = function ObjectFactory(name) {\r\n \t\t\treturn {\r\n \t\t\t\tconfigurable: true,\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tget: function() {\r\n \t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t},\r\n \t\t\t\tset: function(value) {\r\n \t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t}\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {\r\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\r\n \t\t\t}\r\n \t\t}\r\n \t\tObject.defineProperty(fn, \"e\", {\r\n \t\t\tenumerable: true,\r\n \t\t\tvalue: function(chunkId) {\r\n \t\t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\t\thotChunksLoading++;\r\n \t\t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\r\n \t\t\t\t\tfinishChunkLoading();\r\n \t\t\t\t\tthrow err;\r\n \t\t\t\t});\r\n \t\r\n \t\t\t\tfunction finishChunkLoading() {\r\n \t\t\t\t\thotChunksLoading--;\r\n \t\t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t});\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\t\t_main: hotMainModule,\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback || function() {};\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\thotMainModule = true;\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailableFilesMap = {};\r\n \tvar hotDeferred;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\thotApplyOnUpdate = apply;\r\n \t\thotSetStatus(\"check\");\r\n \t\treturn hotDownloadManifest().then(function(update) {\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\treturn null;\r\n \t\t\t}\r\n \t\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\thotAvailableFilesMap = update.c;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\tvar promise = new Promise(function(resolve, reject) {\r\n \t\t\t\thotDeferred = {\r\n \t\t\t\t\tresolve: resolve,\r\n \t\t\t\t\treject: reject\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t\treturn promise;\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailableFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar deferred = hotDeferred;\r\n \t\thotDeferred = null;\r\n \t\tif(!deferred) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\thotApply(hotApplyOnUpdate).then(function(result) {\r\n \t\t\t\tdeferred.resolve(result);\r\n \t\t\t}, function(err) {\r\n \t\t\t\tdeferred.reject(err);\r\n \t\t\t});\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tdeferred.resolve(outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\toptions = options || {};\r\n \t\r\n \t\tvar cb;\r\n \t\tvar i;\r\n \t\tvar j;\r\n \t\tvar module;\r\n \t\tvar moduleId;\r\n \t\r\n \t\tfunction getAffectedStuff(updateModuleId) {\r\n \t\t\tvar outdatedModules = [updateModuleId];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\r\n \t\t\t\treturn {\r\n \t\t\t\t\tchain: [id],\r\n \t\t\t\t\tid: id\r\n \t\t\t\t}\r\n \t\t\t});\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar queueItem = queue.pop();\r\n \t\t\t\tvar moduleId = queueItem.id;\r\n \t\t\t\tvar chain = queueItem.chain;\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"self-declined\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t\tif(module.hot._main) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"unaccepted\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(!parent) continue;\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\ttype: \"declined\",\r\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\tparentId: parentId\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push({\r\n \t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\tid: parentId\r\n \t\t\t\t\t});\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn {\r\n \t\t\t\ttype: \"accepted\",\r\n \t\t\t\tmoduleId: updateModuleId,\r\n \t\t\t\toutdatedModules: outdatedModules,\r\n \t\t\t\toutdatedDependencies: outdatedDependencies\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\r\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\r\n \t\t\tconsole.warn(\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\");\r\n \t\t};\r\n \t\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tmoduleId = toModuleId(id);\r\n \t\t\t\tvar result;\r\n \t\t\t\tif(hotUpdate[id]) {\r\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\tresult = {\r\n \t\t\t\t\t\ttype: \"disposed\",\r\n \t\t\t\t\t\tmoduleId: id\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tvar abortError = false;\r\n \t\t\t\tvar doApply = false;\r\n \t\t\t\tvar doDispose = false;\r\n \t\t\t\tvar chainInfo = \"\";\r\n \t\t\t\tif(result.chain) {\r\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\r\n \t\t\t\t}\r\n \t\t\t\tswitch(result.type) {\r\n \t\t\t\t\tcase \"self-declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of self decline: \" + result.moduleId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of declined dependency: \" + result.moduleId + \" in \" + result.parentId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"unaccepted\":\r\n \t\t\t\t\t\tif(options.onUnaccepted)\r\n \t\t\t\t\t\t\toptions.onUnaccepted(result);\r\n \t\t\t\t\t\tif(!options.ignoreUnaccepted)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"accepted\":\r\n \t\t\t\t\t\tif(options.onAccepted)\r\n \t\t\t\t\t\t\toptions.onAccepted(result);\r\n \t\t\t\t\t\tdoApply = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"disposed\":\r\n \t\t\t\t\t\tif(options.onDisposed)\r\n \t\t\t\t\t\t\toptions.onDisposed(result);\r\n \t\t\t\t\t\tdoDispose = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tdefault:\r\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\r\n \t\t\t\t}\r\n \t\t\t\tif(abortError) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn Promise.reject(abortError);\r\n \t\t\t\t}\r\n \t\t\t\tif(doApply) {\r\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\r\n \t\t\t\t\tfor(moduleId in result.outdatedDependencies) {\r\n \t\t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {\r\n \t\t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t\tif(doDispose) {\r\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\r\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tmoduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\r\n \t\t\tif(hotAvailableFilesMap[chunkId] === false) {\r\n \t\t\t\thotDisposeChunk(chunkId);\r\n \t\t\t}\r\n \t\t});\r\n \t\r\n \t\tvar idx;\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tmoduleId = queue.pop();\r\n \t\t\tmodule = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tcb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tidx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tvar dependency;\r\n \t\tvar moduleOutdatedDependencies;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tfor(j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\tdependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\tidx = module.children.indexOf(dependency);\r\n \t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tvar callbacks = [];\r\n \t\t\t\tfor(i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\tdependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t}\r\n \t\t\t\tfor(i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\tcb = callbacks[i];\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tcb(moduleOutdatedDependencies);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"accept-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\r\n \t\t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tmoduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err2) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\terror: err2,\r\n \t\t\t\t\t\t\t\torginalError: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err2;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else {\r\n \t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t});\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn Promise.reject(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\treturn Promise.resolve(outdatedModules);\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(\"./index.js\")(__webpack_require__.s = \"./index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9d76ec022b50dcbfb133","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = ./node_modules/process/browser.js\n// module chunks = 0","\n// batched requests\n// The `fetch()` module batches in-flight requests, so if at any point in time, anywhere in my front-end or\n// back-end application I have a calls occur to `fetch('http://api.github.com/users/matthiasak')` while another\n// to that URL is \"in-flight\", the Promise returned by both of those calls will be resolved by a single network request.\n\n// f :: (url -> options) -> Promise\nconst batch = f => {\n    let inflight = {}\n\n    return (url, options={}) => {\n        let {method} = options,\n            key = `${url}:${JSON.stringify(options)}`\n\n        if((method || '').toLowerCase() === 'post')\n            return f(url, {...options, compress: false})\n\n        return inflight[key] ||\n            (inflight[key] =\n                new Promise((res,rej) => {\n                    f(url, {...options, compress: false})\n                    .then(d => res(d))\n                    .catch(e => rej(e))\n                })\n                .then(data => {\n                    inflight = {...inflight, [key]: undefined}\n                    return data\n                })\n                .catch(e =>\n                    console.error(e, url)))\n    }\n}\n\nexport default batch\n\n\n// WEBPACK FOOTER //\n// ./src/batch.js","export const log = (...a) => console.log(...a)\n\n// rAF\nexport const rAF =\n      document &&\n      (requestAnimationFrame ||\n      webkitRequestAnimationFrame ||\n      mozRequestAnimationFrame) ||\n      process && process.nextTick ||\n      (cb => setTimeout(cb, 16.6))\n\n// composition\n// c :: (T -> U) -> (U -> V) -> (T -> V)\nexport const c = (f,g) => x => f(g(x))\n\n// cof :: [(an -> bn)] -> a0 -> bn\n// compose forward\nexport const cof = (...fns) => fns.reduce((acc,fn) => c(acc, fn))\n\n// cob :: [(an -> bn)] -> b0 -> an\n// compose backwards\nexport const cob = (...fns) => cof(...fns.reverse())\n\n// functional utilities\n// pointfree\nexport const pf = fn => (...args) => x => fn.apply(x, args)\n\n// curry\n// curry :: (T -> U) -> [args] -> ( -> U)\nexport const curry = (fn, ...args) =>\n\tfn.bind(undefined, ...args)\n\n\n// Transducers\nexport const mapping = (mapper) => // mapper: x -> y\n    (reducer) => // reducer: (state, value) -> new state\n        (result, value) =>\n            reducer(result, mapper(value))\n\nexport const filtering = (predicate) => // predicate: x -> true/false\n    (reducer) => // reducer: (state, value) -> new state\n        (result, value) =>\n            predicate(value) ? reducer(result, value) : result\n\nexport const concatter = (thing, value) =>\n    thing.concat([value])\n\n\n\n// WEBPACK FOOTER //\n// ./src/fp.js","// compute the hamming weight\nconst hamming = x => {\n    x -= ((x >> 1) & 0x55555555)\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333)\n    x = (x + (x >> 4)) & 0x0f0f0f0f\n    x += (x >> 8)\n    x += (x >> 16)\n    return (x & 0x7f)\n}\n\nconst popcount = root => {\n    if(root.key)\n        return 1\n\n    let c = root.children\n    if(c) {\n        var sum = 0\n        for(var i in c) sum += popcount(c[i])\n        return sum\n    }\n}\n\n// hash fn\nconst hash = (v='') => {\n    v = JSON.stringify(v)\n    var hash = 5381\n    for (let i = 0; i < v.length; i++)\n        hash = ((hash << 5) + hash) + v.charCodeAt(i)\n    return hash\n}\n\n// compare two hashes\nconst comp = (a,b) => hash(a) === hash(b)\n\n// get a bit vector\nconst HMAP_SIZE = 8\nconst MAX_DEPTH = 32 / HMAP_SIZE - 1\nconst vec = (h=0, i=0, range=HMAP_SIZE) => (h >>> (range*i)) & ((1 << range) - 1)\n\nconst shallowClone = x => {\n    let y = Object.create(null)\n    for(let i in x)\n        y[i] = x[i]\n    return y\n}\n\nconst cloneNode = x => {\n    let y = node()\n    if(!x) return y\n\n    if(x.children) {\n        y.children = shallowClone(x.children)\n    } else if(x.key !== undefined) {\n        y.key = x.key\n        y.val = x.val\n        y.hash = x.hash\n    }\n\n    return y\n}\n\nconst numChildren = x => {\n    let c = 0\n    for(var i in x) ++c\n    return c\n}\n\nconst set = (root, key, val) => {\n    if((root.key === undefined) && !root.children) return node(key, val)\n\n    const newroot = cloneNode(root), h = hash(key)\n\n    // walk the tree\n    for(var i = 3, r = root, n = newroot; i >= 0; --i){\n        let bits = vec(h, i)\n\n        if(r.key !== undefined){\n            // if we have a collision\n            if(r.key === key || i === 0) {\n                // if keys match or is leaf, just overwrite n's val\n                n.val = val\n            } else if(i !== 0) {\n                // else if r is not at max depth and keys don't match\n                // add levels to both trees, new tree must be able\n                // to access old data\n\n                // 0. create makeshift value node for r\n                // and new value node for n\n                let cp = node(r.key, r.val, r.hash)\n                let cn = node(key, val, h)\n                let rh = r.hash\n\n                // 1. delete value props from nodes\n                delete r.key\n                delete r.val\n                delete r.hash\n                delete n.key\n                delete n.val\n                delete n.hash\n\n                // 2. create layers until bit-vectors don't collide\n                for(let j = i, __r = r, __n = n; j >= 0; j--){\n                    let vecr = vec(rh, j),\n                        vecn = vec(h, j)\n\n                    // create new layer for c and r\n                    let c = __r.children = Object.create(null)\n                    let d = __n.children = shallowClone(c)\n\n                    if(vecr !== vecn) {\n                        c[vecr] = cp\n                        d[vecr] = cp\n                        d[vecn] = cn\n                        break\n                    } else {\n                        __r = c[vecr] = node()\n                        __n = d[vecn] = cloneNode(__r)\n                    }\n                }\n            }\n            break\n        } else if(r.children) {\n            let _r = r.children[bits]\n            if(!_r) {\n                n = n.children[bits] = node(key, val)\n                break\n            } else {\n                r = _r\n                n = n.children[bits] = cloneNode(r)\n            }\n        }\n    }\n\n    return newroot\n}\n\nconst get = (root, key) => {\n    if(root.key === key) return root.val\n    const h = hash(key)\n    for(let i = 3, r = root; i >= 0; --i){\n        if(!r.children) return undefined\n        r = r.children[vec(h, i)]\n        if(!r) return undefined\n        if(r.key !== undefined) return r.val\n    }\n\n    return undefined\n}\n\nconst first = root => {\n    let c = root.children\n    for(let i in c) return c[i]\n}\n\nconst unset = (root, key) => {\n    const n = cloneNode(root),\n          h = hash(key)\n\n    for(var i = 3, _n = n, p = n; i >= -1; --i) {\n        if(_n.key) {\n            delete _n.key\n            delete _n.val\n            delete _n.hash\n            return n\n\n//             let c = numChildren(p)\n\n//             if(c === 1) {\n//                 // if only child, delete child and parent?\n//                 delete p.children\n//             } else if(c===2){\n//                 // if 2 children, promote sibling as parent value nod\n//                 delete p.children[bits]\n//                 let sibling = first(p)\n//                 delete p.children\n//                 if(sibling.children){\n//                     p.children = sibling.children\n//                 } else if(p.key) {\n//                     p.val = sibling.val\n//                     p.hash = sibling.hash\n//                     p.key = sibling.key\n//                 }\n//             } else {\n//                 // if more than 2 children, just delete the one\n//                 delete p.children[bits]\n//             }\n//             return n\n        }\n\n        const bits = vec(h, i)\n        _n = _n && _n.children && _n.children[bits]\n        if(!_n) return n\n        p = _n\n    }\n    return n\n}\n\nconst node = (key,val,h= key !== undefined && hash(key)) => {\n    /*\n    potential props of a tree node\n    - key - hashkey\n    - val - value\n    - children - { ... } -> points to other nodes (List<Node> children)\n    */\n\n    let item = Object.create(null)\n    if(key !== undefined){\n        item.key = key\n        item.hash = h\n        item.val = val\n    }\n    return item\n}\n\nconst map = (root, fn) => {\n    if(root.key !== undefined)\n        return node(root.key, fn(root.val, root.key), root.hash)\n\n    let d = cloneNode(root),\n        c = d.children\n\n    if(c) {\n        for(var i in c){\n            c[i] = map(c[i], fn)\n        }\n    }\n\n    return d\n}\n\nconst filter = (root, fn) => {\n    if(root.key !== undefined)\n        return fn(root.val, root.key) ? root : undefined\n\n    let d = cloneNode(root),\n        c = d.children\n\n    if(c) {\n        for(var i in c){\n            if(!filter(c[i], fn))\n                delete c[i]\n        }\n    }\n\n    return d\n}\n\nconst reduce = (root, fn, acc) => {\n    if(root.key !== undefined)\n        return fn(acc, root.val, root.key)\n\n    let c = root.children\n    if(c) {\n        for(var i in c)\n            acc = reduce(c[i], fn, acc)\n\n        return acc\n    }\n}\n\nconst toList = (root, r=[]) => {\n    if(root.key !== undefined) r.push(root.val)\n\n    let c = root.children\n    if(c) {\n        for(var i in c) {\n            toList(c[i], r)\n        }\n    }\n\n    return r\n}\n\nconst toOrderedList = (root, r=[]) => {\n    let i = 0,\n        n\n\n    do {\n        n = get(root, i++)\n        n !== undefined && r.push(n)\n    } while(n)\n\n    return r\n}\n\nconst toJSON = (root, r={}) => {\n    if(root.key !== undefined)\n        r[root.key] = root.val\n\n    let c = root.children\n    if(c) {\n        for(var i in c) {\n            toJson(c[i], r)\n        }\n    }\n\n    return r\n}\n\nconst push = (root, val) => set(root, popcount(root), val)\n\nconst pop = root => unset(root, popcount(root)-1)\n\nconst shift = root => reduce(\n    unset(root, 0),\n    (acc,v,k) => set(acc, k-1, v),\n    node())\n\nconst unshift = (root, val) =>\n    set(\n        reduce(\n            root,\n            (acc,v,k) => set(acc, k+1, v),\n            node()),\n        0,\n        val)\n\nconst hamt = node\n\n// console.clear()\n// const l = (...args) => console.log(...args)\n// const j = (...a) => console.log(JSON.stringify(a))\n\n// let x = hamt()\n// let s = 20\n\n// Array(s).fill(1).map((v,i) => {\n//     x = set(x, i, i)\n// })\n\n// l(toList(x))\n// l(toJson(x))\n\n// x = map(x, x => log(x*x) || x*x)\n// l(get(x, 19))\n\n// l(x)\n// l(reduce(x, (acc, x) => acc+x, 0))\n\n// x = unset(x, 1)\n// Array(s).fill(1).map((_,i) => {\n//     if(!get(x, i)) l(i)\n//     // l(get(x, i))\n// })\n\n\n// WEBPACK FOOTER //\n// ./src/hamt.js","\nconst mixin = (...classes) => {\n    class _mixin {}\n    let proto = _mixin.prototype\n\n    classes.map(({prototype:p}) => {\n        Object.getOwnPropertyNames(p).map(key => {\n            let oldFn = proto[key] || (() => {})\n            proto[key] = (...args) => {\n                oldFn(...args)\n                return p[key](...args)\n            }\n        })\n    })\n\n    return _mixin\n}\n\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/mixin.js","// Validate JS objects for their \"shape\"\nconst model = {\n    is(type, value) {\n        if(type && type.isValid instanceof Function){\n            return type.isValid(value)\n        } else if((type === String && ((value instanceof String) || typeof value === 'string'))\n            || (type === Number && ((value instanceof Number) || typeof value === 'number'))\n            || (type === Boolean && ((value instanceof Boolean) || typeof value === 'boolean'))\n            || (type === Function && ((value instanceof Function) || typeof value === 'function'))\n            || (type === Object && ((value instanceof Object) || typeof value === 'object'))\n            || (type === undefined)\n        ){\n            return true\n        }\n\n        return false\n    },\n    check(types, required, data) {\n        Object.keys(types).forEach(key => {\n            let t = types[key],\n                value = data[key]\n\n            if(required[key] || value !== undefined){\n                if(!(t instanceof Array)) t = [t]\n\n                let i = t.reduce((a,_type) => a || MODEL.is(_type, value), false)\n                if(!i) {\n                    throw `{${key}: ${JSON.stringify(value)}} is not one of ${t.map(x => `\\n - ${x}`)}`\n                }\n            }\n        })\n\n        return true\n    },\n    init(...args) {\n        let types, required, logic\n        args.map(x => {\n            if(x instanceof Function && !logic){ logic = x }\n            else if(typeof x === 'object') {\n                if(!types){ types = x }\n                else if(!required){ required = x }\n            }\n        })\n\n        const isValid = (data) => {\n            const pipe = logic ? [check, logic] : [check]\n            return pipe.reduce((a,v) => a && v(types||{},required||{},data), true)\n        }\n\n        const whenValid = (data) => new Promise((res,rej) => isValid(data) && res(data))\n\n        return {isValid, whenValid}\n    },\n    ArrayOf(M) {\n        return MODEL.init((t,r,data) => {\n            if(!(data instanceof Array)) throw `${data} not an Array`\n            data.map(x => {\n                if(!MODEL.is(M, x))\n                    throw `${x} is not a model instance`\n            })\n            return true\n        })\n    }\n}\n\nexport default model\n\n/**\nUse it\n\n// create a Name model with required first/last,\n// but optional middle\nlet Name = MODEL.init({\n    first: String,\n    middle: String,\n    last: String\n}, {first:true, last:true})\n\n// create a Tags model with extra checks\nlet Tags = MODEL.init((types,required,data) => {\n    if(!(data instanceof Array)) throw `${data} not an Array`\n    data.map(x => {\n        if(!is(String, x))\n            throw `[${data}] contains non-String`\n    })\n    return true\n})\n\n// create a Price model that just has a business logic fn\nlet Price = MODEL.init((t,r,d) => {\n    return (d instanceof Number || typeof d === 'number') && d !== 0\n})\n\n// create an Activity model with a required type and name,\n// all others optional\nlet Activity = MODEL.init({\n    type: [String, Function, Number],\n    latlng: Array,\n    title: String,\n    tags: Tags,\n    name: Name,\n    price: Price\n}, {name:true, price: true})\n\n// create a new Activity instance, throwing errors if there are\n// any invalid fields.\nlet a = {\n    tags: ['1','2'],\n    type: 1,\n    name: {first:'matt',last:'keas'},\n    price: 100.43,\n    url: 'http://www.google.com'\n}\nActivity.whenValid(a).then(log).catch(e => log(e+''))\n**/\n\n\n\n// WEBPACK FOOTER //\n// ./src/model.js","const rAF =\n      document &&\n      (requestAnimationFrame ||\n      webkitRequestAnimationFrame ||\n      mozRequestAnimationFrame) ||\n      process && process.nextTick ||\n      (cb => setTimeout(cb, 16.6))\n\n// observables\nconst obs = (state) => {\n    const subscribers = new Set()\n\n    const fn = (val) => {\n        if(val !== undefined){\n            state = val\n            for(let i of subscribers) i(val)\n        }\n        return state\n    }\n\n    fn.map = f => {\n      const o = obs()\n      subscribers.add(val => o(f(val)))\n      return o\n    }\n\n    fn.filter = f => {\n      const o = obs()\n      subscribers.add(val => f(val) && o(val))\n      return o\n    }\n\n    fn.then = f => {\n      subscribers.add(val => f(val))\n      return fn\n    }\n\n    fn.take = (n) => {\n        const values = [],\n        \to = obs()\n\n        const cb = val => {\n            if(values.length < n)\n                values.push(val)\n\n            if(values.length === n) {\n                subscribers.delete(cb)\n                return o(values)\n            }\n        }\n\n        subscribers.add(cb)\n\n        return o\n    }\n\n    fn.takeWhile = f => {\n        const values = [],\n        \to = obs()\n\n        const cb = val => {\n            if(!f(val)) {\n                subscribers.delete(cb)\n                return o(values)\n            }\n\n\t\t\tvalues.push(val)\n        }\n\n        subscribers.add(cb)\n\n        return o\n    }\n\n    fn.reduce = (f,acc) => {\n        const o = obs()\n\n        subscribers.add(val => {\n            acc = f(acc,val)\n            o(acc)\n        })\n\n        return o\n    }\n\n    fn.maybe = f => {\n        const success = obs(),\n              error = obs(),\n              cb = val =>\n        \t\tf(val)\n\t\t\t\t    .then(d => success(d))\n                    .catch(e => error(e))\n\n        subscribers.add(cb)\n\n        return [ success, error ]\n    }\n\n    fn.stop = () => subscribers.clear()\n\n    fn.debounce = ms => {\n        const o = obs()\n        let ts = +new Date\n        subscribers.add(val => {\n            const now = +new Date\n            if(now - ts >= ms){\n                ts = +new Date\n                o(val)\n            }\n        })\n        return o\n    }\n\n    return fn\n}\n\nobs.from = f => {\n    const o = obs()\n    f(x => o(x))\n    return o\n}\n\nobs.union = (...fs) => {\n    const o = obs()\n    fs.map(f => f.then(o))\n    return o\n}\n\nexport default obs\n\n\n// WEBPACK FOOTER //\n// ./src/observable.js","const rAF =\n    document &&\n    (requestAnimationFrame ||\n    webkitRequestAnimationFrame ||\n    mozRequestAnimationFrame) ||\n    process && process.nextTick ||\n    (cb => setTimeout(cb, 16.6))\n\n// Virtual DOMs\nconst vdom = (() => {\n    const class_id_regex = () => {\n            return /[#\\.][^#\\.]+/ig\n        },\n        tagName_regex = () => {\n            return /^([^\\.#]+)\\b/i\n        }\n\n    const parseSelector = s => {\n        let test = null,\n            tagreg = tagName_regex().exec(s),\n            tag = tagreg && tagreg.slice(1)[0],\n            reg = class_id_regex(),\n            vdom = Object.create(null)\n\n        if(tag) s = s.substr(tag.length)\n        vdom.className = ''\n        vdom.tag = tag || 'div'\n\n        while((test = reg.exec(s)) !== null){\n            test = test[0]\n            if(test[0] === '.')\n                vdom.className = (vdom.className+' '+test.substr(1)).trim()\n            else if(test[0] === '#')\n                vdom.id = test.substr(1)\n        }\n        return vdom\n    }\n\n    const debounce = (func, wait, immediate, timeout) =>\n        (...args) => {\n            let later = () => {\n                timeout = null\n                !immediate && func(...args)\n            }\n            var callNow = immediate && !timeout\n            clearTimeout(timeout)\n            timeout = setTimeout(later, wait || 0)\n            callNow && func(...args)\n        }\n\n    const hash = (v,_v=JSON.stringify(v)) => {\n        let hash = 0\n        for (let i = 0, len = _v.length; i < len; ++i) {\n            const c = _v.charCodeAt(i)\n            hash = (((hash << 5) - hash) + c) | 0\n        }\n        return hash\n    }\n\n    const m = (selector, attrs=Object.create(null), ...children) => {\n        if(attrs.tag || !(typeof attrs === 'object') || attrs instanceof Array || attrs instanceof Function){\n            if(attrs instanceof Array) children.unshift(...attrs)\n            else children.unshift(attrs)\n            attrs = Object.create(null)\n        }\n        let vdom = parseSelector(selector)\n        if(children.length)\n            vdom.children = children\n        vdom.attrs = attrs\n        vdom.shouldUpdate = attrs.shouldUpdate\n        vdom.unload = attrs.unload\n        vdom.config = attrs.config\n        vdom.__hash = hash(vdom)\n        delete attrs.unload\n        delete attrs.shouldUpdate\n        delete attrs.config\n        return vdom\n    }\n\n    // creatign html, strip events from DOM element... for now just deleting\n    const stripEvents = ({attrs}) => {\n        let a = Object.create(null)\n\n        if(attrs){\n            for(var name in attrs){\n                if(name[0]==='o'&&name[1]==='n') {\n                    a[name] = attrs[name]\n                    delete attrs[name]\n                }\n            }\n        }\n\n        return a\n    }\n\n    const applyEvents = (events, el, strip_existing=true) => {\n        strip_existing && removeEvents(el)\n        for(var name in events){\n            el[name] = events[name]\n        }\n    }\n\n    const flatten = (arr, a=[]) => {\n        for(var i=0,len=arr.length; i<len; i++){\n            let v = arr[i]\n            if(!(v instanceof Array)){\n                a.push(v)\n            } else {\n                flatten(v, a)\n            }\n        }\n        return a\n    }\n\n    const EVENTS = 'mouseover,mouseout,wheel,mousemove,blur,focus,click,abort,afterprint,animationend,animationiteration,animationstart,beforeprint,canplay,canplaythrough,change,contextmenu,dblclick,drag,dragend,dragenter,dragleave,dragover,dragstart,drop,durationchange,emptied,ended,error,load,input,invalid,keydown,keypress,keyup,loadeddata,loadedmetadata,mousedown,mouseenter,mouseleave,mouseup,pause,pointercancel,pointerdown,pointerenter,pointerleave,pointermove,pointerout,pointerover,pointerup,play,playing,ratechange,reset,resize,scroll,seeked,seeking,select,selectstart,selectionchange,show,submit,timeupdate,touchstart,touchend,touchcancel,touchmove,touchenter,touchleave,transitionend,volumechange,waiting'.split(',').map(x => 'on'+x)\n\n    const removeEvents = el => {\n        // strip away event handlers on el, if it exists\n        if(!el) return;\n        for(var i in EVENTS){\n            el[i] = null\n        }\n    }\n\n    let mnt\n\n    const mount = (fn, el) => {\n        mnt = [el, fn]\n        render(fn, el)\n    }\n\n    const render = debounce((fn, el) => rAF(_ => {\n        applyUpdates(fn, el.children[0], el)\n    }))\n\n    const update = () => {\n        if(!mnt) return\n        let [el, fn] = mnt\n        render(fn, el)\n    }\n\n    const stylify = style => {\n        let s = ''\n        for(var i in style){\n            s+=`${i}:${style[i]};`\n        }\n        return s\n    }\n\n    const setAttrs = ({attrs, id, className, __hash},el) => {\n        if(attrs){\n            for(var attr in attrs){\n                if(attr === 'style') {\n                    el.style = stylify(attrs[attr])\n                } else if(attr === 'innerHTML'){\n                    rAF(() => el.innerHTML = attrs[attr])\n                } else if(attr === 'value'){\n                    rAF(() => el.value = attrs[attr])\n                } else {\n                    el.setAttribute(attr, attrs[attr])\n                }\n            }\n        }\n        let _id = attrs.id || id\n        if(_id) el.id = _id\n        let _className = ((attrs.className || '') + ' ' + (className || '')).trim()\n        if(_className) el.className = _className\n        el.__hash = __hash\n    }\n\n    // recycle or create a new el\n    const createTag = (vdom=Object.create(null), el, parent=el&&el.parentElement) => {\n        let __vdom = vdom\n        // make text nodes from primitive types\n        if(typeof vdom !== 'object'){\n            let t = document.createTextNode(vdom)\n            if(el){\n                parent.insertBefore(t,el)\n                removeEl(el)\n            } else {\n                parent.appendChild(t)\n            }\n            return t\n        }\n\n        // else make an HTMLElement from \"tag\" types\n        let {tag, attrs, id, className, unload, shouldUpdate, config, __hash} = vdom,\n            shouldExchange = !el || !el.tagName || (tag && el.tagName.toLowerCase() !== tag.toLowerCase()),\n            _shouldUpdate = !(shouldUpdate instanceof Function) || shouldUpdate(el)\n\n        if(!attrs) return\n        if(el && (!_shouldUpdate || ((!vdom instanceof Function) && el.__hash === __hash))) {\n        return\n        }\n\n        if(shouldExchange){\n            let t = document.createElement(tag)\n            el ? (parent.insertBefore(t, el), removeEl(el)) : parent.appendChild(t)\n            el = t\n        }\n\n        setAttrs(vdom, el)\n        if(el.unload instanceof Function) {\n            rAF(el.unload)\n        }\n        if(unload instanceof Function) {\n            el.unload = unload\n        }\n        applyEvents(stripEvents(vdom), el)\n        config && rAF(_ => config(el))\n        return el\n    }\n\n    // find parent element, and remove the input element\n    const removeEl = el => {\n        if(!el) return\n        el.parentElement.removeChild(el)\n        removeEvents(el)\n        // removed for now, added unload logic to the immediate draw()s\n        if(el.unload instanceof Function)\n            el.unload()\n    }\n\n    const insertAt = (el, parent, i) => {\n        if(parent.children.length > i) {\n            let next_sib = parent.children[i]\n            parent.insertBefore(el, next_sib)\n        } else {\n            parent.appendChild(el)\n        }\n    }\n\n    const applyUpdates = (vdom, el, parent=el&&el.parentElement) => {\n        let v = vdom\n        // if vdom is a function, execute it until it isn't\n        while(vdom instanceof Function)\n            vdom = vdom()\n\n        if(!vdom) return\n\n        if(vdom.resolve instanceof Function){\n            let i = parent.children.length\n            return vdom.resolve().then(v => {\n                if(!el) {\n                    let x = createTag(v, null, parent)\n                    insertAt(x, parent, i)\n                    applyUpdates(v, x, parent)\n                } else {\n                    applyUpdates(v, el, parent)\n                }\n            })\n        }\n\n        // create/edit el under parent\n        let _el = vdom instanceof Array ? parent : createTag(vdom, el, parent)\n\n        if(!_el) return\n\n        if(vdom instanceof Array || vdom.children){\n            let vdom_children = flatten(vdom instanceof Array ? vdom : vdom.children),\n                el_children = vdom instanceof Array ? parent.childNodes : _el.childNodes\n\n            while(el_children.length > vdom_children.length){\n                removeEl(el_children[el_children.length-1])\n            }\n\n            for(let i=0; i<vdom_children.length; i++){\n                applyUpdates(vdom_children[i],el_children[i],_el)\n            }\n        } else {\n            while(_el.childNodes.length > 0){\n                removeEl(_el.childNodes[_el.childNodes.length-1])\n            }\n        }\n    }\n\n    const qs = (s='body', el=document) => el.querySelector(s)\n\n    const resolver  = (states = {}) => {\n        let promises = [],\n            done = false\n\n        const _await = (_promises = []) => {\n            promises = [...promises, ..._promises]\n            return finish()\n        }\n\n        const wait = (ms=0) => new Promise(res => setTimeout(res, ms))\n\n        const isDone = () => done\n\n        const finish = () => {\n            const total = promises.length\n            return wait().then(_ => Promise.all(promises)).then(values => {\n                if(promises.length > total){\n                    return finish()\n                }\n                done = true\n                return states\n            })\n        }\n\n        const resolve = (props) => {\n            const keys = Object.keys(props)\n            if (!keys.length)\n                return Promise.resolve(true)\n\n            let f = []\n            keys.forEach(name => {\n                let x = props[name]\n\n                while(x instanceof Function)\n                    x = x()\n\n                if(x && x.then instanceof Function)\n                    f.push(x.then(d => states[name] = d))\n            })\n\n            return _await(f)\n        }\n\n        const getState = () => states\n\n        return { finish, resolve, getState, promises, isDone }\n    }\n\n    const gs = (view, state) => {\n        let r = view(state)\n        while(r instanceof Function)\n            r = view(instance.getState())\n        return r\n    }\n\n    const container = (view, queries={}, instance=resolver()) => {\n        let wrapper_view = state =>\n            instance.isDone() ? view(state) : m('span')\n\n        return () => {\n            let r = gs(wrapper_view, instance.getState())\n            instance.resolve(queries)\n\n            if(r instanceof Array) {\n                let d = instance.finish().then(_ =>\n                    gs(wrapper_view, instance.getState()))\n\n                return r.map((x,i) => {\n                    x.resolve = _ => d.then(vdom => vdom[i])\n                    return x\n                })\n            }\n\n            r.resolve = _ => instance.finish().then(_ =>\n                gs(wrapper_view, instance.getState()))\n\n            return r\n        }\n    }\n\n    const reservedAttrs = ['className','id']\n\n    const toHTML = _vdom => {\n        while(_vdom instanceof Function) _vdom = _vdom()\n        if(_vdom instanceof Array) return new Promise(r => r(html(..._vdom)))\n        if(!_vdom) return new Promise(r => r(''))\n        if(typeof _vdom !== 'object') return new Promise(r => r(_vdom))\n        return (_vdom.resolve ? _vdom.resolve() : Promise.resolve()).then(vdom => {\n            if(!vdom) vdom = _vdom\n\n            if(vdom instanceof Array) return new Promise(r => r(html(...vdom)))\n\n            const {tag, id, className, attrs, children, instance} = vdom,\n                _id = (id || (attrs && attrs.id)) ? ` id=\"${(id || (attrs && attrs.id) || '')}\"` : '',\n                _class = (className || (attrs && attrs.className)) ? ` class=\"${((className||'') + ' ' + (attrs.className||'')).trim()}\"` : ''\n\n            const events = stripEvents(vdom)\n            let _attrs = '',\n                inner = ''\n            for(var i in (attrs || Object.create(null))){\n                if(i === 'style'){\n                    _attrs += ` style=\"${stylify(attrs[i])}\"`\n                } else if(i === 'innerHTML') {\n                    inner = attrs[i]\n                } else if(reservedAttrs.indexOf(i) === -1){\n                    _attrs += ` ${i}=\"${attrs[i]}\"`\n                }\n            }\n\n            if(!inner && children)\n                return html(...children).then(str =>\n                    `<${tag}${_id}${_class}${_attrs}>${str}</${tag}>`)\n\n            if('br,input,img'.split(',').filter(x => x===tag).length === 0)\n                return new Promise(r => r(`<${tag}${_id}${_class}${_attrs}>${inner}</${tag}>`))\n\n            return new Promise(r => r(`<${tag}${_id}${_class}${_attrs} />`))\n        })\n    }\n\n    const html = (...v) => Promise.all(v.map(toHTML)).then(x => x.filter(x => !!x).join(''))\n\n    return {container, html, qs, update, mount, m, debounce}\n})()\n\nexport default vdom\n\n/*\nusage:\n\nlet component = () =>\n    new Array(20).fill(true).map(x =>\n        m('div', {onMouseOver: e => log(e.target.innerHTML)}, range(1,100)))\n\nclient-side\n-----\nmount(component, qs())\n\nclient-side constant re-rendering\n-----\nconst run = () => {\n    setTimeout(run, 20)\n    update()\n}\nrun()\n*/\n\n/* CONTAINER / HTML USAGE (Server-side rendering)\n\nconst name = _ => new Promise(res => setTimeout(_ => res('matt'), 1500))\n\nlet x = container(data => [\n        m('div.test.row', {className:'hola', 'data-name':data.name, style:{border:'1px solid black'}}),\n        m('div', data.name),\n    ],\n    {name}\n)\n\nhtml(x).then(x => log(x)).catch(e => log(e+''))\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom.js"],"sourceRoot":""}