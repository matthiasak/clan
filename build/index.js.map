{"version":3,"sources":["webpack/bootstrap 14434a9cf9793e2da38e","/home/matthiasak/Code/clan/node_modules/process/browser.js","/home/matthiasak/Code/clan/src/batch.js","/home/matthiasak/Code/clan/src/fp.js","/home/matthiasak/Code/clan/src/hamt.js","/home/matthiasak/Code/clan/src/index.js","/home/matthiasak/Code/clan/src/mixin.js","/home/matthiasak/Code/clan/src/model.js","/home/matthiasak/Code/clan/src/observable.js","/home/matthiasak/Code/clan/src/vdom.js"],"names":["batch","inflight","url","options","method","key","JSON","stringify","toLowerCase","f","compress","Promise","res","rej","then","d","catch","e","undefined","data","console","error","log","rAF","document","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","process","nextTick","setTimeout","cb","c","g","x","cof","fns","reduce","acc","fn","cob","reverse","pf","args","apply","curry","bind","mapping","mapper","reducer","result","value","filtering","predicate","concatter","thing","concat","hamming","popcount","root","children","sum","i","hash","v","length","charCodeAt","comp","a","b","HMAP_SIZE","MAX_DEPTH","vec","h","range","shallowClone","y","Object","create","cloneNode","node","val","numChildren","set","newroot","r","n","bits","cp","cn","rh","j","__r","__n","vecr","vecn","_r","get","first","unset","_n","p","item","map","filter","toList","push","toOrderedList","toJSON","toJson","pop","shift","k","unshift","hamt","vdom","mixin","model","obs","classes","_mixin","proto","prototype","getOwnPropertyNames","oldFn","is","type","isValid","Function","String","Number","Boolean","check","types","required","keys","forEach","t","Array","_type","MODEL","init","logic","pipe","whenValid","ArrayOf","M","state","subscribers","Set","o","add","take","values","delete","takeWhile","maybe","success","stop","clear","debounce","ts","Date","now","ms","from","union","fs","class_id_regex","tagName_regex","parseSelector","test","tagreg","exec","s","tag","slice","reg","substr","className","trim","id","func","wait","immediate","timeout","later","callNow","clearTimeout","_v","len","m","selector","attrs","shouldUpdate","unload","config","__hash","stripEvents","name","applyEvents","events","el","strip_existing","removeEvents","flatten","arr","EVENTS","split","mnt","mount","render","applyUpdates","update","stylify","style","setAttrs","attr","innerHTML","setAttribute","_id","_className","createTag","parent","parentElement","__vdom","createTextNode","insertBefore","removeEl","appendChild","shouldExchange","tagName","_shouldUpdate","createElement","removeChild","insertAt","next_sib","resolve","_el","vdom_children","el_children","childNodes","qs","querySelector","resolver","states","promises","done","_await","_promises","finish","isDone","total","all","props","getState","gs","view","instance","container","queries","wrapper_view","reservedAttrs","toHTML","_vdom","html","_class","_attrs","inner","indexOf","str","join"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC9DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 14434a9cf9793e2da38e","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = ./node_modules/process/browser.js\n// module chunks = 0","\n// batched requests\n// The `fetch()` module batches in-flight requests, so if at any point in time, anywhere in my front-end or\n// back-end application I have a calls occur to `fetch('http://api.github.com/users/matthiasak')` while another\n// to that URL is \"in-flight\", the Promise returned by both of those calls will be resolved by a single network request.\n\n// f :: (url -> options) -> Promise\nconst batch = f => {\n    let inflight = {}\n\n    return (url, options={}) => {\n        let {method} = options,\n            key = `${url}:${JSON.stringify(options)}`\n\n        if((method || '').toLowerCase() === 'post')\n            return f(url, {...options, compress: false})\n\n        return inflight[key] ||\n            (inflight[key] =\n                new Promise((res,rej) => {\n                    f(url, {...options, compress: false})\n                    .then(d => res(d))\n                    .catch(e => rej(e))\n                })\n                .then(data => {\n                    inflight = {...inflight, [key]: undefined}\n                    return data\n                })\n                .catch(e =>\n                    console.error(e, url)))\n    }\n}\n\nexport default batch\n\n\n// WEBPACK FOOTER //\n// ./src/batch.js","export const log = (...a) => console.log(...a)\n\n// rAF\nexport const rAF =\n      document &&\n      (requestAnimationFrame ||\n      webkitRequestAnimationFrame ||\n      mozRequestAnimationFrame) ||\n      process && process.nextTick ||\n      (cb => setTimeout(cb, 16.6))\n\n// composition\n// c :: (T -> U) -> (U -> V) -> (T -> V)\nexport const c = (f,g) => x => f(g(x))\n\n// cof :: [(an -> bn)] -> a0 -> bn\n// compose forward\nexport const cof = (...fns) => fns.reduce((acc,fn) => c(acc, fn))\n\n// cob :: [(an -> bn)] -> b0 -> an\n// compose backwards\nexport const cob = (...fns) => cof(...fns.reverse())\n\n// functional utilities\n// pointfree\nexport const pf = fn => (...args) => x => fn.apply(x, args)\n\n// curry\n// curry :: (T -> U) -> [args] -> ( -> U)\nexport const curry = (fn, ...args) =>\n\tfn.bind(undefined, ...args)\n\n\n// Transducers\nexport const mapping = (mapper) => // mapper: x -> y\n    (reducer) => // reducer: (state, value) -> new state\n        (result, value) =>\n            reducer(result, mapper(value))\n\nexport const filtering = (predicate) => // predicate: x -> true/false\n    (reducer) => // reducer: (state, value) -> new state\n        (result, value) =>\n            predicate(value) ? reducer(result, value) : result\n\nexport const concatter = (thing, value) =>\n    thing.concat([value])\n\n\n\n// WEBPACK FOOTER //\n// ./src/fp.js","// compute the hamming weight\nexport const hamming = x => {\n    x -= ((x >> 1) & 0x55555555)\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333)\n    x = (x + (x >> 4)) & 0x0f0f0f0f\n    x += (x >> 8)\n    x += (x >> 16)\n    return (x & 0x7f)\n}\n\nexport const popcount = root => {\n    if(root.key)\n        return 1\n\n    let c = root.children\n    if(c) {\n        var sum = 0\n        for(var i in c) sum += popcount(c[i])\n        return sum\n    }\n}\n\n// hash fn\nexport const hash = (v='') => {\n    v = JSON.stringify(v)\n    var hash = 5381\n    for (let i = 0; i < v.length; i++)\n        hash = ((hash << 5) + hash) + v.charCodeAt(i)\n    return hash\n}\n\n// compare two hashes\nexport const comp = (a,b) => hash(a) === hash(b)\n\n// get a bit vector\nexport const HMAP_SIZE = 8\nexport const MAX_DEPTH = 32 / HMAP_SIZE - 1\nexport const vec = (h=0, i=0, range=HMAP_SIZE) => (h >>> (range*i)) & ((1 << range) - 1)\n\nexport const shallowClone = x => {\n    let y = Object.create(null)\n    for(let i in x)\n        y[i] = x[i]\n    return y\n}\n\nexport const cloneNode = x => {\n    let y = node()\n    if(!x) return y\n\n    if(x.children) {\n        y.children = shallowClone(x.children)\n    } else if(x.key !== undefined) {\n        y.key = x.key\n        y.val = x.val\n        y.hash = x.hash\n    }\n\n    return y\n}\n\nexport const numChildren = x => {\n    let c = 0\n    for(var i in x) ++c\n    return c\n}\n\nexport const set = (root, key, val) => {\n    if((root.key === undefined) && !root.children) return node(key, val)\n\n    const newroot = cloneNode(root), h = hash(key)\n\n    // walk the tree\n    for(var i = 3, r = root, n = newroot; i >= 0; --i){\n        let bits = vec(h, i)\n\n        if(r.key !== undefined){\n            // if we have a collision\n            if(r.key === key || i === 0) {\n                // if keys match or is leaf, just overwrite n's val\n                n.val = val\n            } else if(i !== 0) {\n                // else if r is not at max depth and keys don't match\n                // add levels to both trees, new tree must be able\n                // to access old data\n\n                // 0. create makeshift value node for r\n                // and new value node for n\n                let cp = node(r.key, r.val, r.hash)\n                let cn = node(key, val, h)\n                let rh = r.hash\n\n                // 1. delete value props from nodes\n                delete r.key\n                delete r.val\n                delete r.hash\n                delete n.key\n                delete n.val\n                delete n.hash\n\n                // 2. create layers until bit-vectors don't collide\n                for(let j = i, __r = r, __n = n; j >= 0; j--){\n                    let vecr = vec(rh, j),\n                        vecn = vec(h, j)\n\n                    // create new layer for c and r\n                    let c = __r.children = Object.create(null)\n                    let d = __n.children = shallowClone(c)\n\n                    if(vecr !== vecn) {\n                        c[vecr] = cp\n                        d[vecr] = cp\n                        d[vecn] = cn\n                        break\n                    } else {\n                        __r = c[vecr] = node()\n                        __n = d[vecn] = cloneNode(__r)\n                    }\n                }\n            }\n            break\n        } else if(r.children) {\n            let _r = r.children[bits]\n            if(!_r) {\n                n = n.children[bits] = node(key, val)\n                break\n            } else {\n                r = _r\n                n = n.children[bits] = cloneNode(r)\n            }\n        }\n    }\n\n    return newroot\n}\n\nexport const get = (root, key) => {\n    if(root.key === key) return root.val\n    const h = hash(key)\n    for(let i = 3, r = root; i >= 0; --i){\n        if(!r.children) return undefined\n        r = r.children[vec(h, i)]\n        if(!r) return undefined\n        if(r.key !== undefined) return r.val\n    }\n\n    return undefined\n}\n\nexport const first = root => {\n    let c = root.children\n    for(let i in c) return c[i]\n}\n\nexport const unset = (root, key) => {\n    const n = cloneNode(root),\n          h = hash(key)\n\n    for(var i = 3, _n = n, p = n; i >= -1; --i) {\n        if(_n.key) {\n            delete _n.key\n            delete _n.val\n            delete _n.hash\n            return n\n\n//             let c = numChildren(p)\n\n//             if(c === 1) {\n//                 // if only child, delete child and parent?\n//                 delete p.children\n//             } else if(c===2){\n//                 // if 2 children, promote sibling as parent value nod\n//                 delete p.children[bits]\n//                 let sibling = first(p)\n//                 delete p.children\n//                 if(sibling.children){\n//                     p.children = sibling.children\n//                 } else if(p.key) {\n//                     p.val = sibling.val\n//                     p.hash = sibling.hash\n//                     p.key = sibling.key\n//                 }\n//             } else {\n//                 // if more than 2 children, just delete the one\n//                 delete p.children[bits]\n//             }\n//             return n\n        }\n\n        const bits = vec(h, i)\n        _n = _n && _n.children && _n.children[bits]\n        if(!_n) return n\n        p = _n\n    }\n    return n\n}\n\nexport const node = (key,val,h= key !== undefined && hash(key)) => {\n    /*\n    potential props of a tree node\n    - key - hashkey\n    - val - value\n    - children - { ... } -> points to other nodes (List<Node> children)\n    */\n\n    let item = Object.create(null)\n    if(key !== undefined){\n        item.key = key\n        item.hash = h\n        item.val = val\n    }\n    return item\n}\n\nexport const map = (root, fn) => {\n    if(root.key !== undefined)\n        return node(root.key, fn(root.val, root.key), root.hash)\n\n    let d = cloneNode(root),\n        c = d.children\n\n    if(c) {\n        for(var i in c){\n            c[i] = map(c[i], fn)\n        }\n    }\n\n    return d\n}\n\nexport const filter = (root, fn) => {\n    if(root.key !== undefined)\n        return fn(root.val, root.key) ? root : undefined\n\n    let d = cloneNode(root),\n        c = d.children\n\n    if(c) {\n        for(var i in c){\n            if(!filter(c[i], fn))\n                delete c[i]\n        }\n    }\n\n    return d\n}\n\nexport const reduce = (root, fn, acc) => {\n    if(root.key !== undefined)\n        return fn(acc, root.val, root.key)\n\n    let c = root.children\n    if(c) {\n        for(var i in c)\n            acc = reduce(c[i], fn, acc)\n\n        return acc\n    }\n}\n\nexport const toList = (root, r=[]) => {\n    if(root.key !== undefined) r.push(root.val)\n\n    let c = root.children\n    if(c) {\n        for(var i in c) {\n            toList(c[i], r)\n        }\n    }\n\n    return r\n}\n\nexport const toOrderedList = (root, r=[]) => {\n    let i = 0,\n        n\n\n    do {\n        n = get(root, i++)\n        n !== undefined && r.push(n)\n    } while(n)\n\n    return r\n}\n\nexport const toJSON = (root, r={}) => {\n    if(root.key !== undefined)\n        r[root.key] = root.val\n\n    let c = root.children\n    if(c) {\n        for(var i in c) {\n            toJson(c[i], r)\n        }\n    }\n\n    return r\n}\n\nexport const push = (root, val) => set(root, popcount(root), val)\n\nexport const pop = root => unset(root, popcount(root)-1)\n\nexport const shift = root => reduce(\n    unset(root, 0),\n    (acc,v,k) => set(acc, k-1, v),\n    node())\n\nexport const unshift = (root, val) =>\n    set(\n        reduce(\n            root,\n            (acc,v,k) => set(acc, k+1, v),\n            node()),\n        0,\n        val)\n\nexport const hamt = node\n\n// console.clear()\n// const l = (...args) => console.log(...args)\n// const j = (...a) => console.log(JSON.stringify(a))\n\n// let x = hamt()\n// let s = 20\n\n// Array(s).fill(1).map((v,i) => {\n//     x = set(x, i, i)\n// })\n\n// l(toList(x))\n// l(toJson(x))\n\n// x = map(x, x => log(x*x) || x*x)\n// l(get(x, 19))\n\n// l(x)\n// l(reduce(x, (acc, x) => acc+x, 0))\n\n// x = unset(x, 1)\n// Array(s).fill(1).map((_,i) => {\n//     if(!get(x, i)) l(i)\n//     // l(get(x, i))\n// })\n\n\n// WEBPACK FOOTER //\n// ./src/hamt.js","export batch from './batch'\nexport vdom from './vdom'\nexport mixin from './mixin'\nexport model from './model'\nexport obs from './observable'\nexport * as hamt from './hamt'\nexport * from './fp'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\nconst mixin = (...classes) => {\n    class _mixin {}\n    let proto = _mixin.prototype\n\n    classes.map(({prototype:p}) => {\n        Object.getOwnPropertyNames(p).map(key => {\n            let oldFn = proto[key] || (() => {})\n            proto[key] = (...args) => {\n                oldFn(...args)\n                return p[key](...args)\n            }\n        })\n    })\n\n    return _mixin\n}\n\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/mixin.js","// Validate JS objects for their \"shape\"\nconst model = {\n    is(type, value) {\n        if(type && type.isValid instanceof Function){\n            return type.isValid(value)\n        } else if((type === String && ((value instanceof String) || typeof value === 'string'))\n            || (type === Number && ((value instanceof Number) || typeof value === 'number'))\n            || (type === Boolean && ((value instanceof Boolean) || typeof value === 'boolean'))\n            || (type === Function && ((value instanceof Function) || typeof value === 'function'))\n            || (type === Object && ((value instanceof Object) || typeof value === 'object'))\n            || (type === undefined)\n        ){\n            return true\n        }\n\n        return false\n    },\n    check(types, required, data) {\n        Object.keys(types).forEach(key => {\n            let t = types[key],\n                value = data[key]\n\n            if(required[key] || value !== undefined){\n                if(!(t instanceof Array)) t = [t]\n\n                let i = t.reduce((a,_type) => a || MODEL.is(_type, value), false)\n                if(!i) {\n                    throw `{${key}: ${JSON.stringify(value)}} is not one of ${t.map(x => `\\n - ${x}`)}`\n                }\n            }\n        })\n\n        return true\n    },\n    init(...args) {\n        let types, required, logic\n        args.map(x => {\n            if(x instanceof Function && !logic){ logic = x }\n            else if(typeof x === 'object') {\n                if(!types){ types = x }\n                else if(!required){ required = x }\n            }\n        })\n\n        const isValid = (data) => {\n            const pipe = logic ? [check, logic] : [check]\n            return pipe.reduce((a,v) => a && v(types||{},required||{},data), true)\n        }\n\n        const whenValid = (data) => new Promise((res,rej) => isValid(data) && res(data))\n\n        return {isValid, whenValid}\n    },\n    ArrayOf(M) {\n        return MODEL.init((t,r,data) => {\n            if(!(data instanceof Array)) throw `${data} not an Array`\n            data.map(x => {\n                if(!MODEL.is(M, x))\n                    throw `${x} is not a model instance`\n            })\n            return true\n        })\n    }\n}\n\nexport default model\n\n/**\nUse it\n\n// create a Name model with required first/last,\n// but optional middle\nlet Name = MODEL.init({\n    first: String,\n    middle: String,\n    last: String\n}, {first:true, last:true})\n\n// create a Tags model with extra checks\nlet Tags = MODEL.init((types,required,data) => {\n    if(!(data instanceof Array)) throw `${data} not an Array`\n    data.map(x => {\n        if(!is(String, x))\n            throw `[${data}] contains non-String`\n    })\n    return true\n})\n\n// create a Price model that just has a business logic fn\nlet Price = MODEL.init((t,r,d) => {\n    return (d instanceof Number || typeof d === 'number') && d !== 0\n})\n\n// create an Activity model with a required type and name,\n// all others optional\nlet Activity = MODEL.init({\n    type: [String, Function, Number],\n    latlng: Array,\n    title: String,\n    tags: Tags,\n    name: Name,\n    price: Price\n}, {name:true, price: true})\n\n// create a new Activity instance, throwing errors if there are\n// any invalid fields.\nlet a = {\n    tags: ['1','2'],\n    type: 1,\n    name: {first:'matt',last:'keas'},\n    price: 100.43,\n    url: 'http://www.google.com'\n}\nActivity.whenValid(a).then(log).catch(e => log(e+''))\n**/\n\n\n\n// WEBPACK FOOTER //\n// ./src/model.js","const rAF =\n      document &&\n      (requestAnimationFrame ||\n      webkitRequestAnimationFrame ||\n      mozRequestAnimationFrame) ||\n      process && process.nextTick ||\n      (cb => setTimeout(cb, 16.6))\n\n// observables\nconst obs = (state) => {\n    const subscribers = new Set()\n\n    const fn = (val) => {\n        if(val !== undefined){\n            state = val\n            for(let i of subscribers) i(val)\n        }\n        return state\n    }\n\n    fn.map = f => {\n      const o = obs()\n      subscribers.add(val => o(f(val)))\n      return o\n    }\n\n    fn.filter = f => {\n      const o = obs()\n      subscribers.add(val => f(val) && o(val))\n      return o\n    }\n\n    fn.then = f => {\n      subscribers.add(val => f(val))\n      return fn\n    }\n\n    fn.take = (n) => {\n        const values = [],\n        \to = obs()\n\n        const cb = val => {\n            if(values.length < n)\n                values.push(val)\n\n            if(values.length === n) {\n                subscribers.delete(cb)\n                return o(values)\n            }\n        }\n\n        subscribers.add(cb)\n\n        return o\n    }\n\n    fn.takeWhile = f => {\n        const values = [],\n        \to = obs()\n\n        const cb = val => {\n            if(!f(val)) {\n                subscribers.delete(cb)\n                return o(values)\n            }\n\n\t\t\tvalues.push(val)\n        }\n\n        subscribers.add(cb)\n\n        return o\n    }\n\n    fn.reduce = (f,acc) => {\n        const o = obs()\n\n        subscribers.add(val => {\n            acc = f(acc,val)\n            o(acc)\n        })\n\n        return o\n    }\n\n    fn.maybe = f => {\n        const success = obs(),\n              error = obs(),\n              cb = val =>\n        \t\tf(val)\n\t\t\t\t    .then(d => success(d))\n                    .catch(e => error(e))\n\n        subscribers.add(cb)\n\n        return [ success, error ]\n    }\n\n    fn.stop = () => subscribers.clear()\n\n    fn.debounce = ms => {\n        const o = obs()\n        let ts = +new Date\n        subscribers.add(val => {\n            const now = +new Date\n            if(now - ts >= ms){\n                ts = +new Date\n                o(val)\n            }\n        })\n        return o\n    }\n\n    return fn\n}\n\nobs.from = f => {\n    const o = obs()\n    f(x => o(x))\n    return o\n}\n\nobs.union = (...fs) => {\n    const o = obs()\n    fs.map(f => f.then(o))\n    return o\n}\n\nexport default obs\n\n\n// WEBPACK FOOTER //\n// ./src/observable.js","const rAF =\n    document &&\n    (requestAnimationFrame ||\n    webkitRequestAnimationFrame ||\n    mozRequestAnimationFrame) ||\n    process && process.nextTick ||\n    (cb => setTimeout(cb, 16.6))\n\n// Virtual DOMs\nconst vdom = (() => {\n    const class_id_regex = () => {\n            return /[#\\.][^#\\.]+/ig\n        },\n        tagName_regex = () => {\n            return /^([^\\.#]+)\\b/i\n        }\n\n    const parseSelector = s => {\n        let test = null,\n            tagreg = tagName_regex().exec(s),\n            tag = tagreg && tagreg.slice(1)[0],\n            reg = class_id_regex(),\n            vdom = Object.create(null)\n\n        if(tag) s = s.substr(tag.length)\n        vdom.className = ''\n        vdom.tag = tag || 'div'\n\n        while((test = reg.exec(s)) !== null){\n            test = test[0]\n            if(test[0] === '.')\n                vdom.className = (vdom.className+' '+test.substr(1)).trim()\n            else if(test[0] === '#')\n                vdom.id = test.substr(1)\n        }\n        return vdom\n    }\n\n    const debounce = (func, wait, immediate, timeout) =>\n        (...args) => {\n            let later = () => {\n                timeout = null\n                !immediate && func(...args)\n            }\n            var callNow = immediate && !timeout\n            clearTimeout(timeout)\n            timeout = setTimeout(later, wait || 0)\n            callNow && func(...args)\n        }\n\n    const hash = (v,_v=JSON.stringify(v)) => {\n        let hash = 0\n        for (let i = 0, len = _v.length; i < len; ++i) {\n            const c = _v.charCodeAt(i)\n            hash = (((hash << 5) - hash) + c) | 0\n        }\n        return hash\n    }\n\n    const m = (selector, attrs=Object.create(null), ...children) => {\n        if(attrs.tag || !(typeof attrs === 'object') || attrs instanceof Array || attrs instanceof Function){\n            if(attrs instanceof Array) children.unshift(...attrs)\n            else children.unshift(attrs)\n            attrs = Object.create(null)\n        }\n        let vdom = parseSelector(selector)\n        if(children.length)\n            vdom.children = children\n        vdom.attrs = attrs\n        vdom.shouldUpdate = attrs.shouldUpdate\n        vdom.unload = attrs.unload\n        vdom.config = attrs.config\n        vdom.__hash = hash(vdom)\n        delete attrs.unload\n        delete attrs.shouldUpdate\n        delete attrs.config\n        return vdom\n    }\n\n    // creatign html, strip events from DOM element... for now just deleting\n    const stripEvents = ({attrs}) => {\n        let a = Object.create(null)\n\n        if(attrs){\n            for(var name in attrs){\n                if(name[0]==='o'&&name[1]==='n') {\n                    a[name] = attrs[name]\n                    delete attrs[name]\n                }\n            }\n        }\n\n        return a\n    }\n\n    const applyEvents = (events, el, strip_existing=true) => {\n        strip_existing && removeEvents(el)\n        for(var name in events){\n            el[name] = events[name]\n        }\n    }\n\n    const flatten = (arr, a=[]) => {\n        for(var i=0,len=arr.length; i<len; i++){\n            let v = arr[i]\n            if(!(v instanceof Array)){\n                a.push(v)\n            } else {\n                flatten(v, a)\n            }\n        }\n        return a\n    }\n\n    const EVENTS = 'mouseover,mouseout,wheel,mousemove,blur,focus,click,abort,afterprint,animationend,animationiteration,animationstart,beforeprint,canplay,canplaythrough,change,contextmenu,dblclick,drag,dragend,dragenter,dragleave,dragover,dragstart,drop,durationchange,emptied,ended,error,load,input,invalid,keydown,keypress,keyup,loadeddata,loadedmetadata,mousedown,mouseenter,mouseleave,mouseup,pause,pointercancel,pointerdown,pointerenter,pointerleave,pointermove,pointerout,pointerover,pointerup,play,playing,ratechange,reset,resize,scroll,seeked,seeking,select,selectstart,selectionchange,show,submit,timeupdate,touchstart,touchend,touchcancel,touchmove,touchenter,touchleave,transitionend,volumechange,waiting'.split(',').map(x => 'on'+x)\n\n    const removeEvents = el => {\n        // strip away event handlers on el, if it exists\n        if(!el) return;\n        for(var i in EVENTS){\n            el[i] = null\n        }\n    }\n\n    let mnt\n\n    const mount = (fn, el) => {\n        mnt = [el, fn]\n        render(fn, el)\n    }\n\n    const render = debounce((fn, el) => rAF(_ => {\n        applyUpdates(fn, el.children[0], el)\n    }))\n\n    const update = () => {\n        if(!mnt) return\n        let [el, fn] = mnt\n        render(fn, el)\n    }\n\n    const stylify = style => {\n        let s = ''\n        for(var i in style){\n            s+=`${i}:${style[i]};`\n        }\n        return s\n    }\n\n    const setAttrs = ({attrs, id, className, __hash},el) => {\n        if(attrs){\n            for(var attr in attrs){\n                if(attr === 'style') {\n                    el.style = stylify(attrs[attr])\n                } else if(attr === 'innerHTML'){\n                    rAF(() => el.innerHTML = attrs[attr])\n                } else if(attr === 'value'){\n                    rAF(() => el.value = attrs[attr])\n                } else {\n                    el.setAttribute(attr, attrs[attr])\n                }\n            }\n        }\n        let _id = attrs.id || id\n        if(_id) el.id = _id\n        let _className = ((attrs.className || '') + ' ' + (className || '')).trim()\n        if(_className) el.className = _className\n        el.__hash = __hash\n    }\n\n    // recycle or create a new el\n    const createTag = (vdom=Object.create(null), el, parent=el&&el.parentElement) => {\n        let __vdom = vdom\n        // make text nodes from primitive types\n        if(typeof vdom !== 'object'){\n            let t = document.createTextNode(vdom)\n            if(el){\n                parent.insertBefore(t,el)\n                removeEl(el)\n            } else {\n                parent.appendChild(t)\n            }\n            return t\n        }\n\n        // else make an HTMLElement from \"tag\" types\n        let {tag, attrs, id, className, unload, shouldUpdate, config, __hash} = vdom,\n            shouldExchange = !el || !el.tagName || (tag && el.tagName.toLowerCase() !== tag.toLowerCase()),\n            _shouldUpdate = !(shouldUpdate instanceof Function) || shouldUpdate(el)\n\n        if(!attrs) return\n        if(el && (!_shouldUpdate || ((!vdom instanceof Function) && el.__hash === __hash))) {\n        return\n        }\n\n        if(shouldExchange){\n            let t = document.createElement(tag)\n            el ? (parent.insertBefore(t, el), removeEl(el)) : parent.appendChild(t)\n            el = t\n        }\n\n        setAttrs(vdom, el)\n        if(el.unload instanceof Function) {\n            rAF(el.unload)\n        }\n        if(unload instanceof Function) {\n            el.unload = unload\n        }\n        applyEvents(stripEvents(vdom), el)\n        config && rAF(_ => config(el))\n        return el\n    }\n\n    // find parent element, and remove the input element\n    const removeEl = el => {\n        if(!el) return\n        el.parentElement.removeChild(el)\n        removeEvents(el)\n        // removed for now, added unload logic to the immediate draw()s\n        if(el.unload instanceof Function)\n            el.unload()\n    }\n\n    const insertAt = (el, parent, i) => {\n        if(parent.children.length > i) {\n            let next_sib = parent.children[i]\n            parent.insertBefore(el, next_sib)\n        } else {\n            parent.appendChild(el)\n        }\n    }\n\n    const applyUpdates = (vdom, el, parent=el&&el.parentElement) => {\n        let v = vdom\n        // if vdom is a function, execute it until it isn't\n        while(vdom instanceof Function)\n            vdom = vdom()\n\n        if(!vdom) return\n\n        if(vdom.resolve instanceof Function){\n            let i = parent.children.length\n            return vdom.resolve().then(v => {\n                if(!el) {\n                    let x = createTag(v, null, parent)\n                    insertAt(x, parent, i)\n                    applyUpdates(v, x, parent)\n                } else {\n                    applyUpdates(v, el, parent)\n                }\n            })\n        }\n\n        // create/edit el under parent\n        let _el = vdom instanceof Array ? parent : createTag(vdom, el, parent)\n\n        if(!_el) return\n\n        if(vdom instanceof Array || vdom.children){\n            let vdom_children = flatten(vdom instanceof Array ? vdom : vdom.children),\n                el_children = vdom instanceof Array ? parent.childNodes : _el.childNodes\n\n            while(el_children.length > vdom_children.length){\n                removeEl(el_children[el_children.length-1])\n            }\n\n            for(let i=0; i<vdom_children.length; i++){\n                applyUpdates(vdom_children[i],el_children[i],_el)\n            }\n        } else {\n            while(_el.childNodes.length > 0){\n                removeEl(_el.childNodes[_el.childNodes.length-1])\n            }\n        }\n    }\n\n    const qs = (s='body', el=document) => el.querySelector(s)\n\n    const resolver  = (states = {}) => {\n        let promises = [],\n            done = false\n\n        const _await = (_promises = []) => {\n            promises = [...promises, ..._promises]\n            return finish()\n        }\n\n        const wait = (ms=0) => new Promise(res => setTimeout(res, ms))\n\n        const isDone = () => done\n\n        const finish = () => {\n            const total = promises.length\n            return wait().then(_ => Promise.all(promises)).then(values => {\n                if(promises.length > total){\n                    return finish()\n                }\n                done = true\n                return states\n            })\n        }\n\n        const resolve = (props) => {\n            const keys = Object.keys(props)\n            if (!keys.length)\n                return Promise.resolve(true)\n\n            let f = []\n            keys.forEach(name => {\n                let x = props[name]\n\n                while(x instanceof Function)\n                    x = x()\n\n                if(x && x.then instanceof Function)\n                    f.push(x.then(d => states[name] = d))\n            })\n\n            return _await(f)\n        }\n\n        const getState = () => states\n\n        return { finish, resolve, getState, promises, isDone }\n    }\n\n    const gs = (view, state) => {\n        let r = view(state)\n        while(r instanceof Function)\n            r = view(instance.getState())\n        return r\n    }\n\n    const container = (view, queries={}, instance=resolver()) => {\n        let wrapper_view = state =>\n            instance.isDone() ? view(state) : m('span')\n\n        return () => {\n            let r = gs(wrapper_view, instance.getState())\n            instance.resolve(queries)\n\n            if(r instanceof Array) {\n                let d = instance.finish().then(_ =>\n                    gs(wrapper_view, instance.getState()))\n\n                return r.map((x,i) => {\n                    x.resolve = _ => d.then(vdom => vdom[i])\n                    return x\n                })\n            }\n\n            r.resolve = _ => instance.finish().then(_ =>\n                gs(wrapper_view, instance.getState()))\n\n            return r\n        }\n    }\n\n    const reservedAttrs = ['className','id']\n\n    const toHTML = _vdom => {\n        while(_vdom instanceof Function) _vdom = _vdom()\n        if(_vdom instanceof Array) return new Promise(r => r(html(..._vdom)))\n        if(!_vdom) return new Promise(r => r(''))\n        if(typeof _vdom !== 'object') return new Promise(r => r(_vdom))\n        return (_vdom.resolve ? _vdom.resolve() : Promise.resolve()).then(vdom => {\n            if(!vdom) vdom = _vdom\n\n            if(vdom instanceof Array) return new Promise(r => r(html(...vdom)))\n\n            const {tag, id, className, attrs, children, instance} = vdom,\n                _id = (id || (attrs && attrs.id)) ? ` id=\"${(id || (attrs && attrs.id) || '')}\"` : '',\n                _class = (className || (attrs && attrs.className)) ? ` class=\"${((className||'') + ' ' + (attrs.className||'')).trim()}\"` : ''\n\n            const events = stripEvents(vdom)\n            let _attrs = '',\n                inner = ''\n            for(var i in (attrs || Object.create(null))){\n                if(i === 'style'){\n                    _attrs += ` style=\"${stylify(attrs[i])}\"`\n                } else if(i === 'innerHTML') {\n                    inner = attrs[i]\n                } else if(reservedAttrs.indexOf(i) === -1){\n                    _attrs += ` ${i}=\"${attrs[i]}\"`\n                }\n            }\n\n            if(!inner && children)\n                return html(...children).then(str =>\n                    `<${tag}${_id}${_class}${_attrs}>${str}</${tag}>`)\n\n            if('br,input,img'.split(',').filter(x => x===tag).length === 0)\n                return new Promise(r => r(`<${tag}${_id}${_class}${_attrs}>${inner}</${tag}>`))\n\n            return new Promise(r => r(`<${tag}${_id}${_class}${_attrs} />`))\n        })\n    }\n\n    const html = (...v) => Promise.all(v.map(toHTML)).then(x => x.filter(x => !!x).join(''))\n\n    return {container, html, qs, update, mount, m, debounce}\n})()\n\nexport default vdom\n\n/*\nusage:\n\nlet component = () =>\n    new Array(20).fill(true).map(x =>\n        m('div', {onMouseOver: e => log(e.target.innerHTML)}, range(1,100)))\n\nclient-side\n-----\nmount(component, qs())\n\nclient-side constant re-rendering\n-----\nconst run = () => {\n    setTimeout(run, 20)\n    update()\n}\nrun()\n*/\n\n/* CONTAINER / HTML USAGE (Server-side rendering)\n\nconst name = _ => new Promise(res => setTimeout(_ => res('matt'), 1500))\n\nlet x = container(data => [\n        m('div.test.row', {className:'hola', 'data-name':data.name, style:{border:'1px solid black'}}),\n        m('div', data.name),\n    ],\n    {name}\n)\n\nhtml(x).then(x => log(x)).catch(e => log(e+''))\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom.js"],"sourceRoot":""}